<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Food Shelf Life Calculator</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            padding: 40px;
        }

        h1 {
            color: #333;
            text-align: center;
            margin-bottom: 10px;
            font-size: 2.5em;
        }

        .subtitle {
            text-align: center;
            color: #666;
            margin-bottom: 30px;
            font-size: 1.1em;
        }

        .calculator-layout {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 30px;
        }

        .input-panel {
            display: flex;
            flex-direction: column;
            gap: 25px;
        }

        .category-section {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 15px;
            border: 2px solid #e9ecef;
        }

        .category-section h3 {
            color: #495057;
            margin-bottom: 15px;
            font-size: 1.3em;
            border-bottom: 3px solid #667eea;
            padding-bottom: 8px;
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 15px;
        }

        .form-group {
            margin-bottom: 15px;
        }

        .form-group.full-width {
            grid-column: 1 / -1;
        }

        label {
            display: block;
            margin-bottom: 6px;
            color: #495057;
            font-weight: 600;
            font-size: 0.9em;
        }

        input, select {
            width: 100%;
            padding: 10px;
            border: 2px solid #dee2e6;
            border-radius: 8px;
            font-size: 0.95em;
            transition: border-color 0.3s;
        }

        input:focus, select:focus {
            outline: none;
            border-color: #667eea;
        }

        .slider-container {
            margin-top: 10px;
        }

        .slider {
            width: 100%;
            height: 6px;
            border-radius: 5px;
            background: #dee2e6;
            outline: none;
            -webkit-appearance: none;
        }

        .slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #667eea;
            cursor: pointer;
        }

        .slider::-moz-range-thumb {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #667eea;
            cursor: pointer;
            border: none;
        }

        .slider-value {
            text-align: center;
            color: #667eea;
            font-weight: bold;
            margin-top: 5px;
        }

        .btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 15px 30px;
            border: none;
            border-radius: 10px;
            font-size: 1.1em;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
            width: 100%;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(102, 126, 234, 0.4);
        }

        .results-panel {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .result-card {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 15px;
            border-left: 5px solid #667eea;
        }

        .result-card h4 {
            color: #495057;
            font-size: 1em;
            margin-bottom: 10px;
        }

        .result-value {
            font-size: 2.2em;
            font-weight: bold;
            color: #667eea;
            margin: 10px 0;
        }

        .result-subtitle {
            color: #6c757d;
            font-size: 0.85em;
            line-height: 1.5;
        }

        .timeline {
            background: white;
            padding: 15px;
            border-radius: 10px;
            margin-top: 10px;
        }

        .timeline-item {
            display: flex;
            align-items: center;
            padding: 10px;
            margin: 5px 0;
            background: #f8f9fa;
            border-radius: 8px;
            border-left: 4px solid #667eea;
        }

        .timeline-icon {
            font-size: 1.5em;
            margin-right: 15px;
            width: 30px;
            text-align: center;
        }

        .timeline-content {
            flex: 1;
        }

        .timeline-date {
            font-weight: bold;
            color: #495057;
        }

        .timeline-desc {
            font-size: 0.85em;
            color: #6c757d;
        }

        .warning-box {
            background: #fff3cd;
            border-left: 5px solid #ffc107;
            padding: 15px;
            border-radius: 5px;
            margin-top: 15px;
        }

        .warning-box h5 {
            color: #856404;
            margin-bottom: 8px;
        }

        .warning-box ul {
            margin-left: 20px;
            color: #856404;
        }

        .info-box {
            background: #d1ecf1;
            border-left: 5px solid #17a2b8;
            padding: 15px;
            border-radius: 5px;
            margin-top: 15px;
        }

        .info-box h5 {
            color: #0c5460;
            margin-bottom: 8px;
        }

        .info-box p {
            color: #0c5460;
            font-size: 0.9em;
            line-height: 1.5;
        }

        .factor-chip {
            display: inline-block;
            padding: 5px 12px;
            background: #667eea;
            color: white;
            border-radius: 20px;
            font-size: 0.85em;
            margin: 3px;
        }

        .hidden {
            display: none;
        }

        @media (max-width: 1024px) {
            .calculator-layout {
                grid-template-columns: 1fr;
            }

            .form-row {
                grid-template-columns: 1fr;
            }
        }

        .help-text {
            font-size: 0.8em;
            color: #6c757d;
            margin-top: 3px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üóìÔ∏è Food Shelf Life Calculator</h1>
        <p class="subtitle">Estimate food shelf life based on 5 key factors: Intrinsic Properties, Processing, Packaging, Storage, and Microbial Risk</p>

        <div class="calculator-layout">
            <!-- Input Panel -->
            <div class="input-panel">
                <!-- Category 1: Intrinsic Properties -->
                <div class="category-section">
                    <h3>üìä Category 1: Intrinsic Properties</h3>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="foodType">Food Type</label>
                            <select id="foodType" onchange="updateBaseLife()">
                                <option value="">-- Select --</option>
                                <option value="fresh_meat">Fresh Meat/Poultry</option>
                                <option value="fresh_fish">Fresh Fish/Seafood</option>
                                <option value="dairy">Dairy Products</option>
                                <option value="produce">Fresh Produce</option>
                                <option value="baked">Baked Goods</option>
                                <option value="grains">Grains/Dried Foods</option>
                                <option value="fats">Oils/Fats</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="baseLife">Base Shelf Life (days)</label>
                            <input type="number" id="baseLife" value="7" min="1" readonly>
                            <p class="help-text">Auto-filled based on food type</p>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="waterActivity">Water Activity (aw): <span id="awValue">0.95</span></label>
                        <input type="range" id="waterActivity" class="slider" min="0.3" max="1.0" step="0.05" value="0.95" oninput="updateSliderValue('awValue', this.value)">
                        <p class="help-text">0.3 = very dry (crackers), 1.0 = fresh (meat/milk)</p>
                    </div>

                    <div class="form-group">
                        <label for="pH">pH Level: <span id="pHValue">6.5</span></label>
                        <input type="range" id="pH" class="slider" min="2.0" max="8.0" step="0.1" value="6.5" oninput="updateSliderValue('pHValue', this.value)">
                        <p class="help-text">2.0 = very acidic (vinegar), 7.0 = neutral, 8.0 = alkaline</p>
                    </div>

                    <div class="form-group">
                        <label for="fatContent">Fat Content (%): <span id="fatValue">10</span></label>
                        <input type="range" id="fatContent" class="slider" min="0" max="100" step="5" value="10" oninput="updateSliderValue('fatValue', this.value)">
                        <p class="help-text">Higher fat = more prone to rancidity</p>
                    </div>
                </div>

                <!-- Category 2: Processing Method -->
                <div class="category-section">
                    <h3>üî• Category 2: Processing Method</h3>
                    
                    <div class="form-group">
                        <label for="processingMethod">Processing Type</label>
                        <select id="processingMethod">
                            <option value="none">None (Fresh)</option>
                            <option value="pasteurized">Pasteurized</option>
                            <option value="uht">Ultra-Pasteurized (UHT)</option>
                            <option value="canned">Canned/Sterilized</option>
                            <option value="dried">Dried/Dehydrated</option>
                            <option value="fermented">Fermented</option>
                            <option value="frozen">Frozen</option>
                            <option value="cured">Cured/Smoked</option>
                        </select>
                    </div>
                </div>

                <!-- Category 3: Packaging -->
                <div class="category-section">
                    <h3>üì¶ Category 3: Packaging Type</h3>
                    
                    <div class="form-group">
                        <label for="packagingType">Packaging</label>
                        <select id="packagingType">
                            <option value="standard">Standard (plastic wrap/bag)</option>
                            <option value="vacuum">Vacuum Sealed</option>
                            <option value="map">Modified Atmosphere (MAP)</option>
                            <option value="hermetic">Hermetic (can/jar)</option>
                            <option value="active">Active Packaging (O2 scavenger)</option>
                        </select>
                    </div>
                </div>

                <!-- Category 4: Storage Conditions -->
                <div class="category-section">
                    <h3>üå°Ô∏è Category 4: Storage Conditions</h3>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="storageTemp">Storage Temperature (¬∞F)</label>
                            <input type="number" id="storageTemp" value="40" min="-20" max="80">
                        </div>

                        <div class="form-group">
                            <label for="humidity">Relative Humidity (%)</label>
                            <input type="number" id="humidity" value="60" min="0" max="100">
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="lightExposure">Light Exposure</label>
                            <select id="lightExposure">
                                <option value="none">Dark Storage</option>
                                <option value="minimal">Minimal (closed pantry)</option>
                                <option value="moderate">Moderate (counter)</option>
                                <option value="high">High (sunny window)</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="oxygenExposure">Oxygen Exposure</label>
                            <select id="oxygenExposure">
                                <option value="none">None (sealed/vacuum)</option>
                                <option value="low">Low (tight container)</option>
                                <option value="moderate">Moderate (loose cover)</option>
                                <option value="high">High (open air)</option>
                            </select>
                        </div>
                    </div>
                </div>

                <!-- Category 5: Microbial Risk -->
                <div class="category-section">
                    <h3>ü¶† Category 5: Microbial/Chemical Factors</h3>
                    
                    <div class="form-group">
                        <label for="initialBacterialLoad">Initial Bacterial Load</label>
                        <select id="initialBacterialLoad">
                            <option value="low">Low (processed/clean)</option>
                            <option value="moderate">Moderate (normal handling)</option>
                            <option value="high">High (poor handling/old)</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="preservatives">Preservatives Added?</label>
                        <select id="preservatives">
                            <option value="none">None</option>
                            <option value="natural">Natural (salt, sugar, vinegar)</option>
                            <option value="chemical">Chemical (benzoates, sorbates)</option>
                        </select>
                    </div>
                </div>

                <button class="btn" onclick="calculateShelfLife()">üî¨ Calculate Shelf Life</button>
            </div>

            <!-- Results Panel -->
            <div class="results-panel">
                <div id="resultsContainer" class="hidden">
                    <div class="result-card">
                        <h4>üìÖ Estimated Shelf Life</h4>
                        <div class="result-value" id="finalShelfLife">0 days</div>
                        <div class="result-subtitle" id="shelfLifeDescription"></div>
                    </div>

                    <div class="result-card">
                        <h4>üìà Impact Factors</h4>
                        <div id="factorsBreakdown"></div>
                    </div>

                    <div class="result-card">
                        <h4>üìÜ Timeline</h4>
                        <div class="timeline" id="timeline"></div>
                    </div>

                    <div class="result-card" id="warningsCard">
                        <h4>‚ö†Ô∏è Important Considerations</h4>
                        <div id="warningsContent"></div>
                    </div>

                    <div class="result-card">
                        <h4>üí° Storage Tips</h4>
                        <div id="storageTips"></div>
                    </div>
                </div>

                <div id="placeholderText" class="info-box">
                    <h5>How to Use This Calculator</h5>
                    <p>1. Select your food type<br>
                    2. Adjust intrinsic properties (water activity, pH, fat)<br>
                    3. Choose processing and packaging methods<br>
                    4. Set storage conditions<br>
                    5. Specify microbial risk factors<br>
                    6. Click "Calculate Shelf Life"</p>
                    <p style="margin-top: 10px;"><strong>Note:</strong> This calculator provides estimates based on optimal conditions. Always use your senses and follow food safety guidelines.</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Base shelf life database (days)
        const baseShelfLives = {
            fresh_meat: 3,
            fresh_fish: 2,
            dairy: 7,
            produce: 7,
            baked: 5,
            grains: 365,
            fats: 180
        };

        function updateSliderValue(elementId, value) {
            document.getElementById(elementId).textContent = parseFloat(value).toFixed(2);
        }

        function updateBaseLife() {
            const foodType = document.getElementById('foodType').value;
            const baseLife = baseShelfLives[foodType] || 7;
            document.getElementById('baseLife').value = baseLife;
        }

        function calculateShelfLife() {
            // Get all inputs
            const foodType = document.getElementById('foodType').value;
            if (!foodType) {
                alert('Please select a food type first!');
                return;
            }

            const baseLife = parseInt(document.getElementById('baseLife').value);
            const waterActivity = parseFloat(document.getElementById('waterActivity').value);
            const pH = parseFloat(document.getElementById('pH').value);
            const fatContent = parseInt(document.getElementById('fatContent').value);
            const processingMethod = document.getElementById('processingMethod').value;
            const packagingType = document.getElementById('packagingType').value;
            const storageTemp = parseInt(document.getElementById('storageTemp').value);
            const humidity = parseInt(document.getElementById('humidity').value);
            const lightExposure = document.getElementById('lightExposure').value;
            const oxygenExposure = document.getElementById('oxygenExposure').value;
            const bacterialLoad = document.getElementById('initialBacterialLoad').value;
            const preservatives = document.getElementById('preservatives').value;

            // Calculate multipliers for each category
            let multiplier = 1.0;
            let factors = [];

            // Category 1: Intrinsic Properties
            // Water activity factor
            let awFactor = 1.0;
            if (waterActivity < 0.60) awFactor = 10.0;
            else if (waterActivity < 0.75) awFactor = 5.0;
            else if (waterActivity < 0.85) awFactor = 2.0;
            else if (waterActivity < 0.95) awFactor = 1.3;
            else awFactor = 1.0;
            multiplier *= awFactor;
            factors.push({name: 'Water Activity', factor: awFactor});

            // pH factor
            let pHFactor = 1.0;
            if (pH < 3.7) pHFactor = 5.0;
            else if (pH < 4.6) pHFactor = 3.0;
            else if (pH < 5.5) pHFactor = 1.5;
            else pHFactor = 1.0;
            multiplier *= pHFactor;
            factors.push({name: 'pH Level', factor: pHFactor});

            // Fat content factor (higher fat = oxidation risk)
            let fatFactor = 1.0;
            if (fatContent > 50) fatFactor = 0.5;
            else if (fatContent > 20) fatFactor = 0.7;
            else fatFactor = 1.0;
            multiplier *= fatFactor;
            if (fatFactor < 1.0) factors.push({name: 'Fat Content', factor: fatFactor});

            // Category 2: Processing
            let processingFactor = 1.0;
            switch(processingMethod) {
                case 'none': processingFactor = 1.0; break;
                case 'pasteurized': processingFactor = 2.0; break;
                case 'uht': processingFactor = 60.0; break;
                case 'canned': processingFactor = 500.0; break;
                case 'dried': processingFactor = 50.0; break;
                case 'fermented': processingFactor = 10.0; break;
                case 'frozen': processingFactor = 100.0; break;
                case 'cured': processingFactor = 5.0; break;
            }
            multiplier *= processingFactor;
            factors.push({name: 'Processing', factor: processingFactor});

            // Category 3: Packaging
            let packagingFactor = 1.0;
            switch(packagingType) {
                case 'standard': packagingFactor = 1.0; break;
                case 'vacuum': packagingFactor = 4.0; break;
                case 'map': packagingFactor = 3.0; break;
                case 'hermetic': packagingFactor = 10.0; break;
                case 'active': packagingFactor = 5.0; break;
            }
            multiplier *= packagingFactor;
            factors.push({name: 'Packaging', factor: packagingFactor});

            // Category 4: Storage Conditions
            // Temperature factor (Q10 rule)
            let tempFactor = 1.0;
            const idealTemp = 35; // Ideal refrigeration
            const tempDiff = storageTemp - idealTemp;
            if (tempDiff > 0) {
                // Every 18¬∞F above ideal, halve shelf life
                tempFactor = Math.pow(0.5, tempDiff / 18);
            } else {
                // Below ideal is generally better (freezing handled separately)
                tempFactor = 1.0;
            }
            multiplier *= tempFactor;
            if (tempFactor < 0.95) factors.push({name: 'Temperature', factor: tempFactor});

            // Light exposure factor
            let lightFactor = 1.0;
            switch(lightExposure) {
                case 'none': lightFactor = 1.0; break;
                case 'minimal': lightFactor = 0.9; break;
                case 'moderate': lightFactor = 0.7; break;
                case 'high': lightFactor = 0.5; break;
            }
            multiplier *= lightFactor;
            if (lightFactor < 1.0) factors.push({name: 'Light Exposure', factor: lightFactor});

            // Oxygen exposure factor
            let oxygenFactor = 1.0;
            switch(oxygenExposure) {
                case 'none': oxygenFactor = 1.0; break;
                case 'low': oxygenFactor = 0.9; break;
                case 'moderate': oxygenFactor = 0.7; break;
                case 'high': oxygenFactor = 0.5; break;
            }
            multiplier *= oxygenFactor;
            if (oxygenFactor < 1.0) factors.push({name: 'Oxygen Exposure', factor: oxygenFactor});

            // Category 5: Microbial Factors
            let bacterialFactor = 1.0;
            switch(bacterialLoad) {
                case 'low': bacterialFactor = 1.0; break;
                case 'moderate': bacterialFactor = 0.7; break;
                case 'high': bacterialFactor = 0.4; break;
            }
            multiplier *= bacterialFactor;
            factors.push({name: 'Bacterial Load', factor: bacterialFactor});

            let preservativeFactor = 1.0;
            switch(preservatives) {
                case 'none': preservativeFactor = 1.0; break;
                case 'natural': preservativeFactor = 1.5; break;
                case 'chemical': preservativeFactor = 2.0; break;
            }
            multiplier *= preservativeFactor;
            if (preservativeFactor > 1.0) factors.push({name: 'Preservatives', factor: preservativeFactor});

            // Calculate final shelf life
            let finalShelfLife = Math.round(baseLife * multiplier);
            
            // Cap at reasonable maximums based on food type
            const maxLimits = {
                fresh_meat: 365,
                fresh_fish: 365,
                dairy: 365,
                produce: 365,
                baked: 365,
                grains: 3650,
                fats: 730
            };
            finalShelfLife = Math.min(finalShelfLife, maxLimits[foodType]);

            // Display results
            displayResults(finalShelfLife, multiplier, factors, foodType, processingMethod);
        }

        function displayResults(days, totalMultiplier, factors, foodType, processing) {
            // Show results container
            document.getElementById('resultsContainer').classList.remove('hidden');
            document.getElementById('placeholderText').classList.add('hidden');

            // Format shelf life display
            let displayText;
            if (days < 7) {
                displayText = `${days} days`;
            } else if (days < 60) {
                displayText = `${days} days (${Math.round(days/7)} weeks)`;
            } else if (days < 365) {
                displayText = `${days} days (${Math.round(days/30)} months)`;
            } else {
                displayText = `${days} days (${Math.round(days/365)} years)`;
            }

            document.getElementById('finalShelfLife').textContent = displayText;
            
            let description = `Overall shelf life multiplier: ${totalMultiplier.toFixed(1)}x the base shelf life`;
            document.getElementById('shelfLifeDescription').textContent = description;

            // Display factors breakdown
            let factorsHTML = '<div style="margin-top: 10px;">';
            factors.forEach(f => {
                const impact = f.factor > 1 ? 'positive' : (f.factor < 1 ? 'negative' : 'neutral');
                const color = impact === 'positive' ? '#28a745' : (impact === 'negative' ? '#dc3545' : '#6c757d');
                factorsHTML += `<span class="factor-chip" style="background: ${color}">${f.name}: ${f.factor.toFixed(1)}x</span>`;
            });
            factorsHTML += '</div>';
            document.getElementById('factorsBreakdown').innerHTML = factorsHTML;

            // Generate timeline
            generateTimeline(days);

            // Generate warnings
            generateWarnings(foodType, processing, days);

            // Generate storage tips
            generateStorageTips(foodType);
        }

        function generateTimeline(totalDays) {
            const now = new Date();
            const timeline = [];

            // Today
            timeline.push({
                icon: 'üìÖ',
                date: 'Today',
                desc: 'Food at peak freshness',
                dayOffset: 0
            });

            // 25% point
            if (totalDays > 4) {
                timeline.push({
                    icon: '‚úÖ',
                    date: `Day ${Math.round(totalDays * 0.25)}`,
                    desc: 'Still excellent quality',
                    dayOffset: Math.round(totalDays * 0.25)
                });
            }

            // 50% point
            if (totalDays > 4) {
                timeline.push({
                    icon: 'üëç',
                    date: `Day ${Math.round(totalDays * 0.50)}`,
                    desc: 'Good quality, consume soon',
                    dayOffset: Math.round(totalDays * 0.50)
                });
            }

            // 75% point
            if (totalDays > 4) {
                timeline.push({
                    icon: '‚ö†Ô∏è',
                    date: `Day ${Math.round(totalDays * 0.75)}`,
                    desc: 'Quality declining, use quickly',
                    dayOffset: Math.round(totalDays * 0.75)
                });
            }

            // Expiry
            timeline.push({
                icon: 'üö´',
                date: `Day ${totalDays}`,
                desc: 'Best by date - evaluate before consuming',
                dayOffset: totalDays
            });

            let timelineHTML = '';
            timeline.forEach(item => {
                const futureDate = new Date(now);
                futureDate.setDate(futureDate.getDate() + item.dayOffset);
                const dateStr = futureDate.toLocaleDateString();
                
                timelineHTML += `
                    <div class="timeline-item">
                        <div class="timeline-icon">${item.icon}</div>
                        <div class="timeline-content">
                            <div class="timeline-date">${item.date} (${dateStr})</div>
                            <div class="timeline-desc">${item.desc}</div>
                        </div>
                    </div>
                `;
            });

            document.getElementById('timeline').innerHTML = timelineHTML;
        }

        function generateWarnings(foodType, processing, days) {
            let warnings = [];

            if (foodType === 'fresh_meat' || foodType === 'fresh_fish') {
                warnings.push('Always store at or below 40¬∞F (4¬∞C)');
                warnings.push('Never leave at room temperature for >2 hours');
                warnings.push('Check for off odors, slime, or color changes');
            }

            if (foodType === 'dairy') {
                warnings.push('Keep refrigerated at all times');
                warnings.push('Discard if it smells sour or has mold');
            }

            if (processing === 'canned' && days > 365) {
                warnings.push('Bulging, leaking, or rusted cans should be discarded');
                warnings.push('While canned food lasts years, quality declines over time');
            }

            if (processing === 'frozen') {
                warnings.push('Maintain freezer at 0¬∞F (-18¬∞C) or below');
                warnings.push('Prevent freezer burn with proper packaging');
                warnings.push('Thaw in refrigerator, never at room temperature');
            }

            warnings.push('This is an estimate - always use your senses to evaluate food safety');
            warnings.push('When in doubt, throw it out');

            let warningsHTML = '<div class="warning-box"><h5>Safety Notes:</h5><ul>';
            warnings.forEach(w => {
                warningsHTML += `<li>${w}</li>`;
            });
            warningsHTML += '</ul></div>';

            document.getElementById('warningsContent').innerHTML = warningsHTML;
        }

        function generateStorageTips(foodType) {
            let tips = [];

            switch(foodType) {
                case 'fresh_meat':
                    tips = [
                        'Store in coldest part of refrigerator (32-34¬∞F)',
                        'Keep in original packaging or rewrap tightly',
                        'Place on a plate to catch any drips',
                        'Freeze if not using within 2 days'
                    ];
                    break;
                case 'fresh_fish':
                    tips = [
                        'Store on ice if possible',
                        'Use within 1-2 days for best quality',
                        'Keep in coldest part of refrigerator',
                        'Wrap tightly to prevent odor transfer'
                    ];
                    break;
                case 'dairy':
                    tips = [
                        'Keep refrigerated at 35-38¬∞F',
                        'Don\'t store in refrigerator door',
                        'Keep milk in original container',
                        'Hard cheeses last longer than soft'
                    ];
                    break;
                case 'produce':
                    tips = [
                        'Store most vegetables in high humidity crisper',
                        'Keep fruits in low humidity drawer',
                        'Separate ethylene producers from sensitive items',
                        'Don\'t wash until ready to use (except leafy greens)'
                    ];
                    break;
                case 'baked':
                    tips = [
                        'Store at room temperature in airtight container',
                        'Don\'t refrigerate bread (makes it stale)',
                        'Freeze for long-term storage',
                        'Slice before freezing for easier use'
                    ];
                    break;
                case 'grains':
                    tips = [
                        'Store in cool, dry place',
                        'Use airtight containers',
                        'Whole grains need cooler storage than refined',
                        'Check regularly for pests'
                    ];
                    break;
                case 'fats':
                    tips = [
                        'Store in dark, cool location',
                        'Keep away from heat and light',
                        'Refrigerate after opening (especially nut oils)',
                        'Use dark glass bottles when possible'
                    ];
                    break;
            }

            let tipsHTML = '<div class="info-box"><ul>';
            tips.forEach(t => {
                tipsHTML += `<li>${t}</li>`;
            });
            tipsHTML += '</ul></div>';

            document.getElementById('storageTips').innerHTML = tipsHTML;
        }
    </script>
</body>
</html>